# Plan 09 Summary: Validation Engine

## Commit
`22716cd` - feat(09.1-09): add validation engine and problems panel

## What Was Built

### ValidationEngine.ts
Comprehensive workflow validation with three rule categories:

**Structure validation:**
- Exactly one Start node required
- At least one End node required
- All nodes reachable from Start (BFS)
- All nodes have path to End (reverse BFS)
- No orphan nodes

**Config validation per step type:**
- Annotation/Review/Adjudication: layout_id required
- Adjudication: threshold 0-1
- Condition: expression required
- Fork: 2+ outgoing edges
- Join: 2+ incoming edges

**Data flow validation:**
- Step references resolve to existing nodes
- Reserved for future schema validation

### useWorkflowValidation.ts
- Subscribes to canvasStore changes
- Debounces validation (500ms)
- Returns issues, nodeErrors, edgeErrors, isValid
- Provides validateNow() for immediate validation

### ProblemsPanel.tsx
- Collapsible panel at bottom of canvas
- Groups issues by category (Structure, Configuration, Data Flow)
- Severity icons (error/warning)
- Filter buttons: All | Errors | Warnings
- Click issue â†’ navigate to node and select it
- Shows suggestion when available

## Files Created
- `apps/web/src/components/workflow/Validation/types.ts`
- `apps/web/src/components/workflow/Validation/ValidationEngine.ts`
- `apps/web/src/components/workflow/Validation/ProblemsPanel.tsx`
- `apps/web/src/components/workflow/Validation/index.ts`
- `apps/web/src/components/workflow/hooks/useWorkflowValidation.ts`

## Key Patterns
- Graph algorithms (BFS/DFS) for reachability
- Debounced validation to prevent excessive runs
- Categorized issues with navigation support
