# Phase 4.1: UX Navigation Flow - Context

**Gathered:** 2026-01-31
**Status:** Ready for planning

<domain>
## Phase Boundary

Application-wide navigation infrastructure from root (/) to all Phase 4 screens (users, teams, profiles). Includes sidebar navigation, breadcrumbs, route protection, and mobile navigation. Does NOT include styling Phase 4 screens (that's Phase 4.2) or adding new pages beyond navigation components.

</domain>

<decisions>
## Implementation Decisions

### Navigation Layout
- Primary structure: **Sidebar** (vertical nav on left, content on right)
- Sidebar behavior: **Collapsible to icon-only rail** (VS Code-style)
- Hover to expand: **Yes** — hovering over collapsed sidebar expands it as overlay
- Mobile (< 768px): **Bottom tab bar** with key nav items
- Item visibility: **Role-based flat list** — all items in flat list, shown/hidden based on user role (no nested groups)
- User info: **Avatar + name at bottom** of sidebar, click for profile/logout
- Branding: **Glyph logo at top** of sidebar, icon-only when collapsed
- Theme toggle: **Settings page only** (decided in Phase 3.1, not in sidebar)

### Root Route (/) Behavior
- Landing page: **Role-based landing**
  - Annotator → Projects & Tasks view
  - Team Lead → Team overview (members, workload, quality)
  - Admin → System dashboard (all projects, users, health)
- Unauthenticated users: **Redirect to login** immediately
- Post-login redirect: **Return to intended URL** — if user tried to access `/teams/123`, go there after login

### Breadcrumb Style
- Visibility: **Always visible** on every page, even top-level
- Position: **Top of content area** — below page header, above main content
- Separators: **Slashes** (`Home / Teams / Engineering`)
- Interactivity: **All segments clickable** including current page

### Active State & Visual Feedback
- Active nav item: **Left border accent** (vertical purple bar) + **bold text with subtle background**
- Nav item format: **Icons + text** when expanded
- Collapsed tooltips: **Yes, with delay** (~300ms) showing label on hover
- Loading feedback: **Claude's discretion** — choose appropriate pattern (progress bar, skeleton, etc.)

### Claude's Discretion
- Loading indicator implementation (top progress bar vs skeleton screens)
- Exact tooltip delay timing
- Specific icon choices for nav items
- Animation/transition details for sidebar collapse/expand
- Bottom tab bar item selection (which items make the cut on mobile)

</decisions>

<specifics>
## Specific Ideas

- Sidebar feels like Linear/VS Code — clean icon rail when collapsed, smooth hover expansion
- Role-based visibility keeps UI uncluttered — annotators don't see admin controls
- Bottom tab bar on mobile prioritizes quick access to primary actions
- Breadcrumbs provide constant orientation — users always know where they are

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 04.1-ux-navigation-flow*
*Context gathered: 2026-01-31*
