---
phase: 09.2-project-overview-modules-ui
plan: 06
type: execute
wave: 3
depends_on: ["09.2-03", "09.2-04", "09.2-05"]
files_modified:
  - apps/web/src/pages/ProjectDetailPage.tsx
  - apps/web/src/components/project/ProjectModuleGrid.tsx
autonomous: true

must_haves:
  truths:
    - "Project detail page shows module grid layout"
    - "Grid is responsive (1 col mobile, 2 col tablet, 3-4 col desktop)"
    - "All 7 modules render with correct data"
    - "Modal edits update project without page refresh"
    - "Navigation modules link to correct screens"
  artifacts:
    - path: "apps/web/src/components/project/ProjectModuleGrid.tsx"
      provides: "Grid layout container for all modules"
      exports: ["ProjectModuleGrid"]
    - path: "apps/web/src/pages/ProjectDetailPage.tsx"
      provides: "Updated project detail with module grid"
  key_links:
    - from: "ProjectModuleGrid.tsx"
      to: "modules/index.ts"
      via: "import all modules"
      pattern: "import.*from.*modules"
    - from: "ProjectDetailPage.tsx"
      to: "ProjectModuleGrid.tsx"
      via: "render grid"
      pattern: "ProjectModuleGrid"
---

<objective>
Create the ProjectModuleGrid component and integrate all modules into the ProjectDetailPage with responsive grid layout.

Purpose: This brings together all the individual modules into a cohesive project overview experience where users can see and configure everything at a glance.

Output: Complete project overview page with functioning module grid.
</objective>

<context>
@.planning/PROJECT.md
@.planning/phases/09.2-project-overview-modules-ui/09.2-RESEARCH.md
@.planning/phases/09.2-project-overview-modules-ui/09.2-03-SUMMARY.md
@.planning/phases/09.2-project-overview-modules-ui/09.2-04-SUMMARY.md
@.planning/phases/09.2-project-overview-modules-ui/09.2-05-SUMMARY.md

@apps/web/src/pages/ProjectDetailPage.tsx
@apps/web/src/components/project/ProjectOverview.tsx
@apps/web/src/components/project/modules/index.ts
@apps/web/src/hooks/useProjects.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ProjectModuleGrid component</name>
  <files>apps/web/src/components/project/ProjectModuleGrid.tsx</files>
  <action>
Create the grid container that renders all 7 modules:

```tsx
interface ProjectModuleGridProps {
  project: Project;
  onProjectUpdate: () => void; // Trigger refetch after updates
}
```

**Grid layout (from research):**
```tsx
<div 
  className="grid gap-4"
  style={{ 
    gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))' 
  }}
>
  {/* Modules */}
</div>
```

Alternative with Tailwind:
```tsx
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
```

**Module order (logical grouping):**
1. ProjectTypeModule - Core identity
2. DeadlineModule - Timeline
3. TeamModule - People
4. SkillsModule - Requirements
5. DataSourcesModule - Data
6. DataSchemasModule - Data
7. WorkflowModule - Process

**Update handlers:**
```tsx
const updateProject = useUpdateProject();

const handleProjectTypeUpdate = async (typeId: string) => {
  await updateProject.mutateAsync({
    id: project.project_id,
    data: { project_type_id: typeId },
  });
  onProjectUpdate();
};

// Similar handlers for deadline, team, skills
```

**Loading state:**
Show ModuleCardSkeleton grid while project loading.
  </action>
  <verify>
TypeScript compiles
Grid renders all 7 modules
Responsive layout works at different viewport sizes
Update handlers call API correctly
  </verify>
  <done>
ProjectModuleGrid renders all modules in responsive grid with working update handlers.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate module grid into ProjectDetailPage</name>
  <files>apps/web/src/pages/ProjectDetailPage.tsx</files>
  <action>
Update ProjectDetailPage to use the new module grid:

**Current structure to modify:**
- Keep: Breadcrumb navigation
- Keep: Project header (name, description, status badge)
- Replace: Current ProjectOverview with new layout
- Keep: Quick actions sidebar
- Keep: Activity feed in sidebar

**New layout structure:**
```tsx
<div className="max-w-7xl mx-auto p-6 space-y-6">
  {/* Breadcrumb */}
  <nav>...</nav>

  {/* Header with status */}
  <header className="flex justify-between items-start">
    <div>
      <h1 className="text-2xl font-bold">{project.name}</h1>
      {project.description && <p className="text-muted-foreground mt-1">{project.description}</p>}
    </div>
    <StatusBadge status={project.status} />
  </header>

  {/* Main content area */}
  <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
    {/* Module grid - takes 3 columns on large screens */}
    <main className="lg:col-span-3">
      <section>
        <h2 className="text-lg font-semibold mb-4">Configuration</h2>
        <ProjectModuleGrid 
          project={project} 
          onProjectUpdate={() => refetch()}
        />
      </section>

      {/* Key metrics (moved from old ProjectOverview) */}
      <section className="mt-6">
        <h2 className="text-lg font-semibold mb-4">Progress</h2>
        {/* Task count, completion %, etc. */}
      </section>
    </main>

    {/* Sidebar - 1 column */}
    <aside className="space-y-6">
      {/* Quick actions */}
      {/* Activity feed */}
    </aside>
  </div>
</div>
```

**Increase max-width:**
- Change from `max-w-6xl` to `max-w-7xl` to accommodate module grid

**Keep StatusTransitionDialog:**
- Status actions can stay in sidebar or be moved to a dropdown

**Loading state:**
Show skeleton grid while project data loads.
  </action>
  <verify>
Navigate to /projects/:id in browser
Module grid displays with all 7 modules
Grid is responsive at different screen sizes
Modal modules (Type, Deadline, Team, Skills) open dialogs
Navigation modules (Data, Schemas, Workflow) navigate correctly
  </verify>
  <done>
ProjectDetailPage displays project overview with module grid and maintains existing functionality.
  </done>
</task>

</tasks>

<verification>
- `cd apps/web && pnpm build` succeeds
- /projects/:id shows module grid layout
- Grid responsive: 1 col on mobile, 2 on tablet, 3-4 on desktop
- All 7 modules render with correct project data
- Modal edits work and trigger data refresh
- Navigation modules go to correct screens
- Loading state shows skeleton grid
</verification>

<success_criteria>
- Project detail page has new module grid layout
- All modules receive correct props from project data
- Update mutations work for modal-edit modules
- Navigation works for navigate modules
- Page layout responsive across breakpoints
- Existing functionality preserved (status actions, activity feed)
</success_criteria>

<output>
After completion, create `.planning/phases/09.2-project-overview-modules-ui/09.2-06-SUMMARY.md`
</output>
