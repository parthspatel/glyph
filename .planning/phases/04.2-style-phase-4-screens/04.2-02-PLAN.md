---
phase: 04.2-style-phase-4-screens
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/pages/admin/UsersPage.tsx
  - apps/web/src/components/admin/UserTable.tsx
autonomous: true

must_haves:
  truths:
    - "Users page displays with proper header styling and purple create button"
    - "User table has subtle zebra striping for row differentiation"
    - "Selected rows show purple checkbox and subtle purple row tint"
    - "Role and status badges use appropriate semantic colors"
    - "Pagination controls are styled consistently"
    - "Create user modal uses card background with proper form styling"
  artifacts:
    - path: "apps/web/src/pages/admin/UsersPage.tsx"
      provides: "Styled admin users page with modal"
      contains: "bg-card|Button"
    - path: "apps/web/src/components/admin/UserTable.tsx"
      provides: "Themed data table with zebra stripes"
      contains: "even:bg-muted/50|data-\\[state=selected\\]"
  key_links:
    - from: "UsersPage.tsx"
      to: "@/components/ui/button"
      via: "import"
      pattern: "import.*Button.*from"
---

<objective>
Style the Admin Users feature (UsersPage, UserTable) with comfortable density table styling, zebra stripes, and purple selection indication.

Purpose: Create a scannable, professional admin interface that uses the design system consistently.

Output: Styled admin page with themed table, modal, and pagination using Tailwind classes and shadcn Button.
</objective>

<execution_context>
@/Users/parthpatel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/parthpatel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/04.2-style-phase-4-screens/04.2-CONTEXT.md
@apps/web/src/index.css
@apps/web/src/components/ui/button.tsx
@apps/web/src/components/ui/input.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Style UserTable with zebra stripes and selection states</name>
  <files>apps/web/src/components/admin/UserTable.tsx</files>
  <action>
Replace all custom CSS classes with Tailwind utilities:

1. **Table container**: Replace `.table-container` with `overflow-x-auto rounded-lg border`

2. **Table element**: Replace `.data-table` with `w-full text-sm`

3. **Table header row**:
   - `<thead>` -> `bg-muted/50`
   - `<th>` -> `px-4 py-3 text-left font-medium text-muted-foreground`
   - Sortable headers: Add `cursor-pointer hover:bg-muted transition-colors`
   - Sort indicator: `text-foreground ml-1`

4. **Table body rows with zebra stripes**:
   ```tsx
   <tr
     key={row.id}
     className={cn(
       "border-b border-border transition-colors",
       "even:bg-muted/30",  // Subtle zebra stripe
       "hover:bg-muted/50",
       row.getIsSelected() && "bg-primary/5"  // Purple tint when selected
     )}
     onClick={() => onUserClick(row.original)}
   >
   ```

5. **Table cells**: `<td>` -> `px-4 py-3`

6. **Checkbox styling**:
   ```tsx
   <input
     type="checkbox"
     className={cn(
       "size-4 rounded border-input",
       "checked:bg-primary checked:border-primary",
       "focus:ring-2 focus:ring-ring focus:ring-offset-2"
     )}
   />
   ```

7. **User name cell**: 
   - Name: `font-medium text-foreground`
   - Department: `text-muted-foreground text-xs ml-1`

8. **Email**: `text-muted-foreground`

9. **Role badge**: 
   ```tsx
   const roleColors: Record<string, string> = {
     admin: "bg-primary/10 text-primary",
     manager: "bg-info/10 text-info",
     annotator: "bg-muted text-muted-foreground",
   };
   // Badge: `inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${roleColors[role]}`
   ```

10. **Status badge**:
    ```tsx
    const statusColors: Record<string, string> = {
      active: "bg-success/10 text-success",
      inactive: "bg-muted text-muted-foreground",
      suspended: "bg-destructive/10 text-destructive",
    };
    ```

11. **Empty state**: `text-center py-8 text-muted-foreground`

Import cn from "@/lib/utils".
  </action>
  <verify>Run `pnpm exec tsc --noEmit`. View UserTable - alternating row backgrounds visible, selected rows have purple tint, role badges show correct colors.</verify>
  <done>UserTable has zebra stripes, purple selection states, and semantic badge colors. Comfortable padding for easy scanning.</done>
</task>

<task type="auto">
  <name>Task 2: Style UsersPage header, pagination, and create modal</name>
  <files>apps/web/src/pages/admin/UsersPage.tsx</files>
  <action>
Replace all custom CSS classes with Tailwind utilities:

1. **Page container**: Replace `.page-container` with `max-w-6xl mx-auto p-6 space-y-6`

2. **Page header**: 
   ```tsx
   <header className="flex items-center justify-between">
     <div>
       <h1 className="text-2xl font-bold text-foreground">Users</h1>
       <p className="text-muted-foreground">{data ? `${data.total} total users` : 'Loading...'}</p>
     </div>
     <Button onClick={() => setShowCreateModal(true)}>
       Create User
     </Button>
   </header>
   ```

3. **Error banner**: `bg-destructive/10 text-destructive border border-destructive/20 rounded-md p-4`

4. **Loading state**: `text-center py-8 text-muted-foreground`

5. **Table card wrapper**: `bg-card rounded-lg border overflow-hidden`

6. **Pagination container**: `flex items-center justify-between pt-4`

7. **Pagination info**: `text-sm text-muted-foreground`

8. **Pagination buttons container**: `flex items-center gap-2`

9. **Pagination buttons**: Import and use shadcn Button with variant="outline" size="sm"
   ```tsx
   <Button variant="outline" size="sm" disabled={page === 1} onClick={() => setPage(p => p - 1)}>
     Previous
   </Button>
   <span className="text-sm text-muted-foreground px-2">Page {page}</span>
   <Button variant="outline" size="sm" disabled={!data?.has_more} onClick={() => setPage(p => p + 1)}>
     Next
   </Button>
   ```

10. **Modal overlay**: `fixed inset-0 bg-black/50 flex items-center justify-center z-50`

11. **Modal content**: `bg-card rounded-lg border shadow-lg p-6 max-w-md w-full mx-4`

12. **Modal header**: `<h2 className="text-lg font-semibold text-foreground mb-4">Create User</h2>`

13. **Form fields**: 
    - Field container: `space-y-4`
    - Each field: `space-y-2`
    - Labels: `text-sm font-medium text-foreground`
    - Inputs: Import Input from "@/components/ui/input" or use `w-full px-3 py-2 rounded-md border border-input bg-background text-foreground focus:ring-2 focus:ring-ring`
    - Select: `w-full px-3 py-2 rounded-md border border-input bg-background text-foreground`

14. **Modal actions**: `flex justify-end gap-3 mt-6`
    ```tsx
    <Button type="submit" disabled={createUser.isPending}>
      {createUser.isPending ? 'Creating...' : 'Create User'}
    </Button>
    <Button variant="secondary" onClick={() => setShowCreateModal(false)}>
      Cancel
    </Button>
    ```

15. **Error in modal**: `text-sm text-destructive mt-2`

Import Button from "@/components/ui/button", Input from "@/components/ui/input", cn from "@/lib/utils".
  </action>
  <verify>Run `pnpm exec tsc --noEmit`. View /admin/users - header styled with purple Create button, pagination has outline buttons, modal has card background with proper form styling.</verify>
  <done>UsersPage has styled header, themed pagination with outline buttons, and properly styled create modal. Purple button for primary action.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Visit /admin/users page
2. Verify page header has title and purple "Create User" button
3. Verify table has subtle alternating row colors
4. Select some rows - verify purple checkbox and row tint
5. Click pagination - verify outline button styling
6. Open create modal - verify card background and form styling
7. Toggle dark/light mode - all elements should adapt correctly
8. No custom CSS class names remain
</verification>

<success_criteria>
- UsersPage header has purple Create User button
- UserTable shows subtle zebra stripes (every other row slightly darker)
- Selected rows have purple checkbox and subtle purple background tint
- Role badges: admin=purple, manager=blue, annotator=neutral
- Status badges: active=green, inactive=neutral, suspended=red
- Pagination uses outline variant buttons
- Create modal uses bg-card with proper border and shadow
- Both light and dark modes render correctly
- TypeScript compilation passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/04.2-style-phase-4-screens/04.2-02-SUMMARY.md`
</output>
