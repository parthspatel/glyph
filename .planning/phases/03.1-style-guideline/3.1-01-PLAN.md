---
phase: 3.1-style-guideline
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/package.json
  - apps/web/vite.config.ts
  - apps/web/tsconfig.json
  - apps/web/src/lib/utils.ts
autonomous: true

must_haves:
  truths:
    - "Tailwind v4 is installed and configured for Vite"
    - "Path alias @ resolves to src directory"
    - "cn() utility function is available for class merging"
  artifacts:
    - path: "apps/web/package.json"
      provides: "Tailwind v4 and shadcn dependencies"
      contains: "@tailwindcss/vite"
    - path: "apps/web/vite.config.ts"
      provides: "Tailwind plugin and path aliases"
      contains: "tailwindcss()"
    - path: "apps/web/src/lib/utils.ts"
      provides: "cn utility function"
      exports: ["cn"]
  key_links:
    - from: "apps/web/vite.config.ts"
      to: "@tailwindcss/vite"
      via: "plugin import"
      pattern: "import tailwindcss from \"@tailwindcss/vite\""
---

<objective>
Install Tailwind CSS v4 with Vite plugin and configure build tooling

Purpose: Establish the foundational CSS framework for the design system
Output: Working Tailwind v4 build pipeline with path aliases and utility functions
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03.1-style-guideline/03.1-CONTEXT.md
@.planning/phases/03.1-style-guideline/03.1-RESEARCH.md
@apps/web/package.json
@apps/web/vite.config.ts
@apps/web/tsconfig.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Tailwind v4 and shadcn dependencies</name>
  <files>apps/web/package.json</files>
  <action>
Install the following dependencies in apps/web:

Production dependencies:
- tailwindcss (^4.0)
- @tailwindcss/vite (^4.0)
- class-variance-authority (^0.7)
- clsx (^2.1)
- tailwind-merge (^2.6)
- tw-animate-css
- @fontsource-variable/inter

Dev dependencies:
- @types/node

Run: `cd apps/web && pnpm add tailwindcss @tailwindcss/vite class-variance-authority clsx tailwind-merge tw-animate-css @fontsource-variable/inter && pnpm add -D @types/node`

Note: Do NOT create tailwind.config.js - Tailwind v4 uses CSS-based configuration with the Vite plugin.
  </action>
  <verify>`cat apps/web/package.json | grep -E "@tailwindcss/vite|tailwind-merge|class-variance-authority"` shows all packages</verify>
  <done>package.json contains all Tailwind v4 and shadcn utility dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Configure Vite with Tailwind plugin and path aliases</name>
  <files>apps/web/vite.config.ts, apps/web/tsconfig.json</files>
  <action>
Update apps/web/vite.config.ts:
1. Import `path` from "path"
2. Import `tailwindcss` from "@tailwindcss/vite"
3. Add tailwindcss() to plugins array (after react())
4. Add resolve.alias for "@" pointing to "./src"

The config should look like:
```typescript
import path from "path";
import tailwindcss from "@tailwindcss/vite";
import react from "@vitejs/plugin-react";
import { defineConfig } from "vite";

export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
  server: {
    port: 5173,
    proxy: {
      "/api": {
        target: "http://localhost:3000",
        changeOrigin: true,
      },
    },
  },
  build: {
    outDir: "dist",
    sourcemap: true,
  },
});
```

Update apps/web/tsconfig.json to add path aliases:
```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src/**/*"]
}
```
  </action>
  <verify>`cd apps/web && pnpm exec tsc --noEmit` passes without errors</verify>
  <done>vite.config.ts has Tailwind plugin and @ alias; tsconfig.json has matching path configuration</done>
</task>

<task type="auto">
  <name>Task 3: Create cn() utility function</name>
  <files>apps/web/src/lib/utils.ts</files>
  <action>
Create apps/web/src/lib/utils.ts with the cn() utility function:

```typescript
import { clsx, type ClassValue } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

This utility combines clsx for conditional class names with tailwind-merge for proper Tailwind class conflict resolution.
  </action>
  <verify>`cat apps/web/src/lib/utils.ts` shows cn function with clsx and twMerge imports</verify>
  <done>cn() utility function exists at @/lib/utils and is importable</done>
</task>

</tasks>

<verification>
1. `cd apps/web && pnpm install` succeeds
2. `cd apps/web && pnpm exec tsc --noEmit` passes
3. All new packages appear in package.json dependencies
4. Path alias @ is configured in both vite.config.ts and tsconfig.json
5. lib/utils.ts exports cn function
</verification>

<success_criteria>
- Tailwind v4 and shadcn utility packages installed
- Vite configured with Tailwind plugin
- Path aliases working for @ -> src
- cn() utility available for component class merging
</success_criteria>
