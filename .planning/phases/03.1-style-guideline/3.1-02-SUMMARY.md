# Plan 3.1-02 Summary: Design Tokens & ThemeProvider

## Outcome
**Status:** Complete

Created OKLCH-based design tokens for light and dark modes, ThemeProvider component for theme switching, and FOWT prevention script.

## Deliverables

| Artifact | Description |
|----------|-------------|
| `apps/web/src/index.css` | Replaced ~900 lines vanilla CSS with Tailwind imports and OKLCH design tokens |
| `apps/web/src/components/theme-provider.tsx` | ThemeProvider and useTheme hook with localStorage persistence |
| `apps/web/index.html` | FOWT prevention script using glyph-ui-theme localStorage key |

## Commits

| Hash | Message |
|------|---------|
| 4133137 | feat(3.1-02): replace index.css with Tailwind and OKLCH design tokens |
| 089848d | feat(3.1-02): create ThemeProvider component with system/dark/light modes |
| 1908982 | feat(3.1-02): add FOWT prevention script to index.html |

## Technical Notes

- **OKLCH color format**: Modern perceptually uniform color space, better for consistent appearance across themes
- **Purple primary**: `oklch(0.627 0.265 303.9)` â€” same hue for both light and dark modes
- **Dark mode surfaces**: Pure black `oklch(0 0 0)` for high contrast OLED-friendly design
- **Stone neutrals**: Warm undertones from Stone palette for light mode
- **FOWT prevention**: Inline script in `<head>` runs synchronously before React renders, reads localStorage and applies `.dark` class immediately

## Color Palette

| Token | Light Mode | Dark Mode |
|-------|------------|-----------|
| background | `oklch(0.99 0.002 106.423)` (near white) | `oklch(0 0 0)` (pure black) |
| foreground | `oklch(0.216 0.006 56.043)` (dark stone) | `oklch(0.97 0.001 106.424)` (near white) |
| primary | `oklch(0.627 0.265 303.9)` (purple) | `oklch(0.627 0.265 303.9)` (same purple) |
| card | `oklch(1 0 0)` (white) | `oklch(0.1 0.002 106.423)` (dark gray) |

## Verification

- [x] index.css contains `@import "tailwindcss"`
- [x] OKLCH variables in `:root` and `.dark` blocks
- [x] ThemeProvider exports ThemeProvider and useTheme
- [x] localStorage key is "glyph-ui-theme" in both ThemeProvider and FOWT script
- [x] FOWT script checks system preference when theme is "system"
